#tasks to deploy web python application
- name: Install python dependency
  pip:
    name: "{{ item }}"
    state: present
  with_items:
      - flask
      - flask-mysql

- name: copy source code to destination
  copy: src=app.py dest=/opt/app.py
#Note: app.py source code should be same loaction where playbook file is present
    
- name: start web server
  shell: FLASK_APP=/opt/app.py nohup flask run --host=0.0.0.0 &
